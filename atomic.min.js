(function(b,p){function d(a){var e=a.getElementsByTagName("canvas")[0],c=getComputedStyle(e).getPropertyValue("width"),b=Math.PI;this.ctx=e.getContext("2d");this.color=getComputedStyle(a).getPropertyValue("color");this.text=a.getElementsByTagName("input")[0];this.value=0;this.r=+c.replace("px","")/2;this.\u03c8=b/50;e.setAttribute("width",c);e.setAttribute("height",c);this.initialize(a).animate(this.value,+this.text.value)}(function(){for(var a=0,e=["ms","moz","webkit","o"],c;!b.requestAnimationFrame&&
(c=e.pop());)b.requestAnimationFrame=b[c+"RequestAnimationFrame"],b.cancelAnimationFrame=b[c+"CancelAnimationFrame"]||b[c+"CancelRequestAnimationFrame"];b.cancelAnimationFrame||(b.cancelAnimationFrame=clearTimeout);b.requestAnimationFrame||(b.requestAnimationFrame=function(c){var e=Date.now(),b=16-(e-a),b=0<b?b:0;a=e+b;return setTimeout(function(){c(a)},b)})})();d.prototype.initialize=function(a){var b=a.getElementsByTagName("li"),c={type:"radio",name:"atomic"},q,f,d,l,g;this.text.addEventListener("change",
this.listen.bind(this));this.i=g=b.length;this.n=l=100/g;this.radio=[];for(a.setAttribute("data-n",g);g--;)this.radio.unshift(q=p.createElement("input")),q.addEventListener("click",this.listen.bind(this)),f=l*g,d=f-this.text.value,c.id="i"+g,c.value=f,q.checked=0<d&&d<=l&&+this.text.value,console.log(q.checked,f,d,this.text.value),a.insertBefore(this.setAttributes(q,c),a.firstChild),b[g].getElementsByTagName("label")[0].setAttribute("for","i"+g);return this};d.prototype.setAttributes=function(a,b){for(var c in b)a.setAttribute(c,
b[c]);return a};d.prototype.animate=function(a,e){function c(){var k=a&&100!==a||s?g:0,h=p+s*l-k,k=h+k+l;~f&&k>n&&(k=n);!~f&&k<n&&(k=n);m.beginPath();m.globalCompositeOperation="destination-"+(~f?"over":"out");m.fillStyle=~f?d.color:"rgba(0, 0, 0, 1)";m.arc(r,r,r,h,k,!~f);m.lineTo(r,r);m.closePath();m.fill();d.value=a+1*f+s++*f;if(s<t&&k!==n)return d.id=b.requestAnimationFrame(c);d.value=e}var d=this,f=e>a?1:-1,h=Math.PI,l=this.\u03c8*f,g=l/2,p=h/-2+this.\u03c8*a,n=h/-2+this.\u03c8*e,t=Math.abs(Math.ceil((n-
p)/l)),m=this.ctx,r=this.r,s=0;this.id=b.requestAnimationFrame(c)};d.prototype.update=function(a){if(a===this.value)return this;100<a&&(a=100);var d=Math.floor(a/this.n),c=this.i-1;a=Math.round(a);this.text.value=a;this.radio[d<c?d:c].checked=!0;b.cancelAnimationFrame(this.id);this.animate(this.value,a);return this};d.prototype.listen=function(a){this.update(+(a.target||a.srcElement).value);return this};for(var t=p.getElementsByClassName("atomic"),h=0;h<t.length;h++)d[h]=new d(t[h]);b.Atomic=d})(window,
document);