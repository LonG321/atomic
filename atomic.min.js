(function(b){function e(a){var c=a.getElementsByTagName("canvas")[0],d=getComputedStyle(c).getPropertyValue("width"),b=Math.PI;this.ctx=c.getContext("2d");this.color=getComputedStyle(a).getPropertyValue("color");this.text=a.getElementsByTagName("input")[0];this.value=0;this.r=+d.replace("px","")/2;this.\u03c8=b/50;c.setAttribute("width",d);c.setAttribute("height",d);this.initialize(a).animate(this.value,+this.text.value)}(function(){for(var a=0,c=["ms","moz","webkit","o"],d;!b.requestAnimationFrame&&
(d=c.pop());)b.requestAnimationFrame=b[d+"RequestAnimationFrame"],b.cancelAnimationFrame=b[d+"CancelAnimationFrame"]||b[d+"CancelRequestAnimationFrame"];b.cancelAnimationFrame||(b.cancelAnimationFrame=clearTimeout);b.requestAnimationFrame||(b.requestAnimationFrame=function(d){var c=Date.now(),b=16-(c-a),b=0<b?b:0;a=c+b;return setTimeout(function(){d(a)},b)})})();e.prototype.initialize=function(a){var b=a.getElementsByTagName("li"),d={type:"radio",name:"atomic"},e,f,h,k,g;this.text.addEventListener("change",
this.listen.bind(this));this.i=g=b.length;this.n=k=100/g;this.radio=[];for(a.setAttribute("data-n",g);g--;)this.radio.unshift(e=document.createElement("input")),e.addEventListener("click",this.listen.bind(this)),f=k*g,h=f-this.value,d.id="i"+g,d.value=f,e.checked=0<h&&h<=k,a.insertBefore(this.setAttributes(e,d),a.firstChild),b[g].getElementsByTagName("label")[0].setAttribute("for","i"+g);return this};e.prototype.setAttributes=function(a,b){for(var d in b)a.setAttribute(d,b[d]);return a};e.prototype.animate=
function(a,c){function d(){var c=a&&100!==a||q?g:0,h=m+q*k-c,c=h+c+k;~f&&c>n&&(c=n);!~f&&c<n&&(c=n);l.beginPath();l.globalCompositeOperation="destination-"+(~f?"over":"out");l.fillStyle=~f?e.color:"rgba(0, 0, 0, 1)";l.arc(p,p,p,h,c,!~f);l.lineTo(p,p);l.closePath();l.fill();e.value=a+1*f+q++*f;q<r&&c!==n&&(e.id=b.requestAnimationFrame(d))}var e=this,f=c>a?1:-1,h=Math.PI,k=this.\u03c8*f,g=k/2,m=h/-2+this.\u03c8*a,n=h/-2+this.\u03c8*c,r=Math.abs(Math.ceil((n-m)/k)),l=this.ctx,p=this.r,q=0;this.id=b.requestAnimationFrame(d)};
e.prototype.update=function(a){if(a===this.value)return this;100<a&&(a=100);var c=Math.floor(a/this.n),d=this.i-1;this.text.value=Math.round(a);this.radio[c<d?c:d].checked=!0;b.cancelAnimationFrame(this.id);this.animate(this.value,a);return this};e.prototype.listen=function(a){this.update(+(a.target||a.srcElement).value);return this};for(var r=document.getElementsByClassName("atomic"),m=0;m<r.length;m++)e[m]=new e(r[m]);b.Atomic=e})(window);
